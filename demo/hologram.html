<!DOCTYPE html>
<html lang="en">
<head>
<title>Miniature Earth | Hologram Demo</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">

<link rel="stylesheet" href="hologram/style.css">
<script src="../miniature.earth.core.js"></script>

<script>

if ( location.protocol == 'file:' ) {
	alert( 'This demo does not work with the file protocol due to browser security restrictions.' );
}


var myearth;
var sprites = [];

window.addEventListener( 'load', function() {

	myearth = new Earth( 'myearth', {
	
		location : { lat: 20, lng : 20 },
	
		light: 'none',

		mapImage: 'hologram/hologram-map.svg',
		transparent: true,
		
		autoRotate : true,
		autoRotateSpeed: 1.2,
		autoRotateDelay: 100,
		autoRotateStart: 2000,			
		
	} );
	
	
	myearth.addEventListener( "ready", function() {

		this.startAutoRotate();

		// connections
		
		var line = {
			color : '#009CFF',
			opacity: 0.35,
			hairline: true,
			offset: -0.5
		};
		
		
	
		
		
		
		
		
		
		
		
		
		var clippedLine = this.addLine( {
			locations : [
				{ lat: 35, lng: 90 },
				{ lat: -35, lng: 90 },
				
			],
			clip: 0
		} );
		
		this.addOverlay( {
			content: 'clip: 0 - 1',
			location : { lat: 35, lng: 90 },
			className : 'colorGet', depthScale: 1
		} );
		
		clippedLine.animate( 'clip', 1, { loop: true, oscillate: true, duration: 2000 } );
		
		

		
	
		
		
		
		var clippedLine = this.addLine( {
			locations : [
				{ lat: 35, lng: 90 },
				{ lat: -35, lng: 90 },
			],
			clip: 0
		} );
		
		this.addOverlay( {
			content: 'clip: 0 - 1',
			location : { lat: 35, lng: 90 },
			background: green;
			className : 'docs-tip', depthScale: 0.75
		} );
		
		clippedLine.animate( 'clip', 1, { loop: true, oscillate: true, duration: 2 } );
		
		
		
		
	
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		//ხაზების დამატება
		for ( var i in connections ) {			
			line.locations = [ { lat: connections[i][0], lng: connections[i][1] }, { lat: connections[i][2], lng: connections[i][3] } ];
			this.addLine( line );
		}
		
		
		
		// add 8 shine sprites
		
		for ( var i=0; i < 8; i++ ) {
			//ციმციმის ობიექტები
			sprites[i] = this.addSprite( {
				image: 'hologram/hologram-shine.svg',
				scale: 2.01,
				offset: -0.5,
				opacity: 0.5
			} );

			pulse( i );
		}
		
		
	} );
	
	
} );


function getRandomInt(min, max) {
	min = Math.ceil(min);
	max = Math.floor(max);
	return Math.floor(Math.random() * (max - min)) + min;
}

//ციმციმი
function pulse( index ) {
	//შემთხვევითი ლოკაცია
	 var random_location = connections[ getRandomInt(0, connections.length-1) ];

	 //წერტილებზე ლოკაციების მინიჭება
	 sprites[index].location = { lat: random_location[0] , lng: random_location[1] };
	
	//მიმდევრობით ციმციმი
	 sprites[index].animate( 'scale', 1.5, { duration: 320, complete : function(){
		this.animate( 'scale', 0.1, { duration: 320, complete : function(){
			setTimeout( function(){ pulse( index ); }, getRandomInt(100, 400) );
		} });
	} });
}



// locations conntected by lines and places where hologram shines appear

//ლოკაციები



</script>

</head>

<body>

	<div id="myearth">
		<div id="glow"></div>
	</div>

</body>
</html>
